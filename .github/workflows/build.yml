name: Rust

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Install
      run: cargo install --git https://github.com/jgouly/cube-tools --bin alg-list-gen
    - name: Build pages
      run: |
        alg-list-gen < corners > tmp.html
        git fetch
        git checkout tmp-auto
        git add tmp.html
        git config --global user.name 'Auto Generator'
        git config --global user.email 'none@none'
        git commit -am "Auto generated $(date)"
        git push
